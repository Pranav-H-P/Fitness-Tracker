<section class="flex flex-col h-[100%] bg-slate-900 text-surface-charcoal-100/90 p-2 gap-3 justify-between scroll">

    <div class="flex justify-between items-center">
        <button class="p-3 px-4 bg-surface-charcoal-700 rounded-lg text-lg" (click)="this.location.back()">Back</button>


        <button class="p-3 px-4 bg-primary-red-500 rounded-lg text-lg" (click)="openDeletePopup()">Delete</button>

    </div>


    <form [formGroup]="metricForm"
        class="flex flex-col text-lg m-2 p-5 gap-5 rounded-md bg-surface-charcoal-900 shadow-custom-dark">
        <div class="flex flex-col gap-2">
            <p class="text-3xl">Metric Name</p>


            <input class="text-xl w-full rounded-md bg-surface-charcoal-950 p-2 focus:outline-none" id="metricData"
                formControlName="name" placeholder="Name">


        </div>
        <div class="flex flex-col gap-2">
            <p class="text-3xl">Unit</p>


            <input class="text-xl w-full rounded-md bg-surface-charcoal-950 p-2 focus:outline-none" id="metricData"
                formControlName="unit" placeholder="unit">


        </div>
        <div class="flex gap-2 items-center">
            <p class="text-3xl">Numeric: </p>
            @if (metricForm.value.isNumeric) {
            <button class="p-3 px-4 bg-green-700 rounded-lg text-lg" (click)="toggleNumeric()">Yes</button>

            }@else {
            <button class="p-3 px-4 bg-primary-red-500 rounded-lg text-lg" (click)="toggleNumeric()">No</button>
            }





        </div>

    </form>

    <button class="text-center p-2 w-full bg-green-700 rounded-lg text-lg" (click)="saveMetricMetadata()">Save</button>


    @if (stateService.popUpName() === PopupType.DELETE_METRIC_METADATA) {
    <div @fade class="fixed left-0 top-0 h-[100vh] w-[100vw] flex justify-center items-center z-40 bg-black/50"
        (click)="closePopup()">
        <div class="bg-surface-charcoal-900 rounded-lg min-h-[30vh] w-[90vw] p-5 flex flex-col justify-between gap-5"
            (click)="$event.stopPropagation()">

            <p class="text-3xl">Are you sure?</p>
            <p class="mx-auto font-bold">All saved data will be lost!</p>

            <div class="flex justify-between">
                <button class="p-3 px-4 bg-surface-charcoal-700 rounded-lg text-lg" (click)="closePopup()">Back</button>
                <button class="p-3 px-4 bg-primary-red-500 rounded-lg text-lg" (click)="deleteMetric()">Delete</button>
            </div>


        </div>
    </div>
    }

</section>